angular.module("ngSimpleContextMenu",[]).directive("contextMenu",function(){return{controller:angular.noop,link:function(n,e,t,o){function i(n){d.css({display:"block"});var e=window.innerWidth,t=window.innerHeight,o=d[0].offsetWidth,i=d[0].offsetHeight;n.left+o>e&&(n.left-=o),n.top+i>t&&(n.top-=i),d.css({top:n.top+"px",left:n.left+"px"}),p(),setTimeout(function(){f()},10)}function c(){d.css({display:"none"}),u(),setTimeout(function(){l()},10)}function f(){m.one("click",s),m.one("contextmenu",s)}function u(){m.off("click",s),m.off("contextmenu",s)}function l(){a.one("contextmenu",r)}function p(){a.off("contextmenu",r)}function s(n){n.preventDefault(),c()}function r(n){n.preventDefault(),i({top:n.clientY,left:n.clientX})}var d=e,a=d.parent(),m=angular.element(document.body);n.$on("$destroy",function(){d.remove(),p(),u()}),m.append(d),d.css({position:"fixed",zIndex:"1000",display:"none",top:0,left:0}),l(),o.showMenu=i,o.hideMenu=c}}});