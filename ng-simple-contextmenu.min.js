!function(){angular.module("ngSimpleContextMenu",[]).directive("contextMenu",function(){return{controller:angular.noop,link:function(n,e,t,o){function i(n){e.css({display:"block"});var t=window.innerWidth,o=window.innerHeight,i=e[0].offsetWidth,c=e[0].offsetHeight;n.left+i>t&&(n.left-=i),n.top+c>o&&(n.top-=c),e.css({top:n.top+"px",left:n.left+"px"}),l(),setTimeout(function(){u()},10)}function c(){e.css({display:"none"}),f(),setTimeout(function(){r()},10)}function u(){document.addEventListener("click",d,!0),document.addEventListener("contextmenu",d,!0)}function f(){document.removeEventListener("click",d,!0),document.removeEventListener("contextmenu",d,!0)}function r(){s.one("contextmenu",a)}function l(){s.off("contextmenu",a)}function d(n){for(var t=n.target,o=!1;null!==t;){if(t===e[0]){o=!0;break}t=t.parentNode}o||(n.preventDefault(),n.stopPropagation()),c()}function a(n){n.preventDefault(),i({top:n.clientY,left:n.clientX})}var s=e.parent(),p=angular.element(document.body);n.$on("$destroy",function(){e.remove(),l(),f()}),p.append(e),e.css({position:"fixed",zIndex:"1000",display:"none",top:0,left:0}),r(),o.showMenu=i,o.hideMenu=c}}})}();